(function(){"use strict";var e={6880:function(e,t,i){var r=i(9242),s=i(1891),a=(i(1844),i(3396)),l=i(7139);const n=e=>((0,a.dD)("data-v-dfd0eb80"),e=e(),(0,a.Cn)(),e),o=n((()=>(0,a._)("div",null,[(0,a._)("i",{class:"el-icon-upload upload-icon"})],-1))),d=n((()=>(0,a._)("div",{class:"upload-text"},[(0,a._)("span",null,"Drag the file here, or"),(0,a._)("span",null,"click to upload")],-1))),c=[o,d],h=["multiple"];function u(e,t,i,n,o,d){const u=s.d0;return(0,a.wg)(),(0,a.j4)(u,{modal:!0,"modal-append-to-body":!1,title:"Uploading",width:"50%",modelValue:i.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>i.dialogVisible=e),"before-close":d.handleClose},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",{class:(0,l.C_)(["file-box",o.dropType?"dropbox-shadow":""]),type:"file",onDragenter:t[0]||(t[0]=(0,r.iM)((e=>d.fileBoxDragenter(!0)),["stop","prevent"])),onDragleave:t[1]||(t[1]=(0,r.iM)(((...e)=>d.fileBoxDragleave&&d.fileBoxDragleave(...e)),["stop","prevent"])),onDrop:t[2]||(t[2]=(0,r.iM)((e=>d.fileBoxDrop(e,!0)),["stop","prevent"])),onDragover:t[3]||(t[3]=(0,r.iM)((()=>{}),["stop","prevent"])),onClick:t[4]||(t[4]=(...e)=>d.openFile&&d.openFile(...e))},c,34),(0,a._)("input",{ref:"inputfile",class:"file-content",type:"file",multiple:i.multiple,onChange:t[5]||(t[5]=(...e)=>d.inputFile&&d.inputFile(...e))},null,40,h)])])),_:1},8,["modelValue","before-close"])}var f={props:{dialogVisible:{type:Boolean,default:!1},fileType:{type:String,default:"json"},multiple:{type:Boolean,default:!1}},data(){return{dropType:!1,boxLock:!1,innerHTMLList:[]}},mounted(){},methods:{handleClose(){this.$emit("update:dialogVisible",!1),this.dropType=!1,this.boxLock=!1,this.innerHTMLList=[]},inputFile(e){this.readFile(e.target.files)},openFile(){this.$refs.inputfile.click()},fileBoxDragenter(e){this.boxLock=!0,setTimeout((()=>{this.boxLock=!1}),10),this.dropType=e},fileBoxDragleave(){this.boxLock||(this.dropType=!1)},fileBoxDrop(e){this.dropType=!1;const t=e.dataTransfer.items[0].webkitGetAsEntry().isDirectory;let i=e.dataTransfer.files;t?alert("Upload folders are not supported!"):this.readFile(i)},readFile(e){if(!this.multiple&&1!==e.length)return void alert("Multiple file uploads are not supported!");let t=Object.keys(e).filter((t=>e[t].name.split(".")[1]!==this.fileType));0===t.length?(Object.keys(e).forEach((t=>{const i=new FileReader;i.readAsText(e[t],"utf8"),i.onload=()=>{this.innerHTMLList.push(i.result),this.$emit("submit",this.innerHTMLList)},i.onerror=()=>{console.log("onError")}})),this.handleClose()):alert("Only supports uploading files in "+this.fileType+" format.")}}},p=i(89);const m=(0,p.Z)(f,[["render",u],["__scopeId","data-v-dfd0eb80"]]);var v=m,g=i(6605),b=(i(6809),i(1514)),_=(i(2064),i(7113),i(9969));i(2942),i(3429);const k={class:"dialog-footer"},x=(0,a.Uk)("Cancel"),C=(0,a.Uk)("Confirm");function w(e,t,i,r,l,n){const o=_.rh,d=_.KD,c=b.nH,h=b.ly,u=g.mi,f=s.d0;return(0,a.wg)(),(0,a.j4)(f,{modelValue:i.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dialogVisible=e),title:"Set vertex type",width:"30%","before-close":r.cancelHandle},{footer:(0,a.w5)((()=>[(0,a._)("span",k,[(0,a.Wm)(u,{onClick:r.cancelHandle},{default:(0,a.w5)((()=>[x])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:r.confirmHandle},{default:(0,a.w5)((()=>[C])),_:1},8,["onClick"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(h,{model:r.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Vertex type"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:r.form.type,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.type=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{label:"Start"}),(0,a.Wm)(o,{label:"Normal"}),(0,a.Wm)(o,{label:"End"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","before-close"])}var V=i(4870),y={name:"VertexForm",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:dialogVisible","cancel","confirm"],setup(e,t){const i=(0,V.qj)({type:"Normal"}),r=()=>{i.type="Normal"},s=()=>{t.emit("update:dialogVisible",!1),t.emit("cancel"),r()},a=()=>{t.emit("update:dialogVisible",!1),t.emit("confirm",i.type),r()};return{form:i,cancelHandle:s,confirmHandle:a}}};const T=(0,p.Z)(y,[["render",w],["__scopeId","data-v-dad71464"]]);var H=T,L=i(7282);i(172);const M=(0,a.Uk)("Add a bracket"),D=(0,a.Uk)("Delete a bracket"),W={class:"dialog-footer"},A=(0,a.Uk)("Cancel"),S=(0,a.Uk)("Confirm");function E(e,t,i,r,l,n){const o=L.EZ,d=b.nH,c=_.rh,h=_.KD,u=g.mi,f=b.ly,p=s.d0;return(0,a.wg)(),(0,a.j4)(p,{modelValue:i.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dialogVisible=e),title:"Create an edge",width:"40%","before-close":r.cancelHandle},{footer:(0,a.w5)((()=>[(0,a._)("span",W,[(0,a.Wm)(u,{onClick:r.cancelHandle},{default:(0,a.w5)((()=>[A])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:r.confirmHandle},{default:(0,a.w5)((()=>[S])),_:1},8,["onClick"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(f,{model:r.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Input"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:r.form.input,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.input=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"Output"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:r.form.output,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.output=e)},null,8,["modelValue"])])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.form.bracket_list,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(d,{label:"Bracket type"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.bracket_type,"onUpdate:modelValue":t=>e.bracket_type=t},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"Open"}),(0,a.Wm)(c,{label:"Close"})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(d,{label:"Bracket number"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:e.bracket_number,"onUpdate:modelValue":t=>e.bracket_number=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(d,{label:"Bracket label"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:e.bracket_label,"onUpdate:modelValue":t=>e.bracket_label=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])))),128)),(0,a._)("div",null,[(0,a.Wm)(u,{style:{"margin-left":"25%"},type:"primary",onClick:r.addList},{default:(0,a.w5)((()=>[M])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:r.deleteList},{default:(0,a.w5)((()=>[D])),_:1},8,["onClick"])])])),_:1},8,["model"])])),_:1},8,["modelValue","before-close"])}var j={name:"EdgeForm",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:dialogVisible","cancel","confirm"],setup(e,t){const i=(0,V.qj)({input:"",output:"",bracket_list:[]}),r=()=>{i.bracket_list.push({bracket_type:"Open",bracket_number:"",bracket_label:""})},s=()=>{i.bracket_list.length>0&&i.bracket_list.pop()},a=()=>{i.input="",i.output="",i.bracket_list=[]},l=()=>{t.emit("update:dialogVisible",!1),t.emit("cancel"),a()},n=()=>{for(let e in i.bracket_list)if(""==i.bracket_list[e].bracket_number)return void alert('You must fill in the "bracket_number" field, which is a positive integer that determines the type of the bracket.');t.emit("update:dialogVisible",!1),t.emit("confirm",i),a()};return{form:i,addList:r,deleteList:s,cancelHandle:l,confirmHandle:n}}};const O=(0,p.Z)(j,[["render",E],["__scopeId","data-v-770c5e20"]]);var N=O;function U(e,t,i,r,s,l){const n=N,o=H,d=v;return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[((0,a.wg)(),(0,a.iD)("svg",{ref:"container",width:"100%",height:"100%",onClick:t[0]||(t[0]=(...e)=>l.createVertex&&l.createVertex(...e))},null,512))]),(0,a.Wm)(n,{dialogVisible:s.edgeFormVisable,"onUpdate:dialogVisible":t[1]||(t[1]=e=>s.edgeFormVisable=e),onCancel:l.cancelHandle,onConfirm:l.confirmHandle},null,8,["dialogVisible","onCancel","onConfirm"]),(0,a.Wm)(o,{dialogVisible:s.vertexFormVisable,"onUpdate:dialogVisible":t[2]||(t[2]=e=>s.vertexFormVisable=e),onCancel:l.cancelHandle_vertex,onConfirm:l.confirmHandle_vertex},null,8,["dialogVisible","onCancel","onConfirm"]),(0,a.Wm)(d,{dialogVisible:s.fileReadDialogVisable,"onUpdate:dialogVisible":t[3]||(t[3]=e=>s.fileReadDialogVisable=e),fileType:"json",multiple:!1,onSubmit:l.createFromJSON},null,8,["dialogVisible","onSubmit"])],64)}var F=i(5939),B={name:"Screen",components:{EdgeForm:N,VertexForm:H,UploadFile:v},props:{status:{type:Number,default:0}},data(){return{container:null,vertexId:0,from:null,to:null,vertices:[],edges:[],edgeFormVisable:!1,vertexFormVisable:!1,fileReadDialogVisable:!1,selectedVertex:null,vertices_upload:[],data_json:{vertices:[],edges:[]},drag_functions:[],path:"https://laiwt.pythonanywhere.com"}},methods:{initDom(){this.container=this.$refs.container},createVertexWithCoordinate(e,t,i){-1==i?this.vertexId++:this.vertexId=i;var r=this.createTag("g",{onclick:"clickHandle_window(this)"}),s=this.createTag("circle",{cx:e,cy:t,r:"30",fill:"aqua",stroke:"black","stroke-width":"1"}),a=this.createTag("text",{x:e,y:t+8,fill:"black","font-size":"20","text-anchor":"middle"});a.innerHTML=this.vertexId,r.appendChild(s),r.appendChild(a),this.container.appendChild(r),this.vertices.push({vertex:r,type:"Normal"}),this.vertices_upload.push({id:this.vertexId,type:"Normal",edges:[]}),this.data_json.vertices.push({id:this.vertexId,x:e,y:t,type:"Normal"})},createVertex(e){1==this.status&&this.createVertexWithCoordinate(e.offsetX,e.offsetY,-1)},createTag(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var r in t)i.setAttribute(r,t[r]);return i},clickHandle(e){var t=this.vertices.filter((t=>t.vertex==e)).length>0;if(2==this.status&&t){if(this.edgeFormVisable=!1,null==this.from)return void(this.from=e);this.to=e,this.edgeFormVisable=!0}else if(3==this.status&&t)this.selectedVertex=e,this.vertexFormVisable=!0;else if(4==this.status){this.container.removeChild(e);var i=this.vertices.length;if(this.vertices=this.vertices.filter((t=>t.vertex!=e)),i>this.vertices.length)this.vertices_upload=this.vertices_upload.filter((t=>t.id!=e.lastChild.innerHTML)),this.data_json.vertices=this.data_json.vertices.filter((t=>t.id!=e.lastChild.innerHTML)),this.data_json.edges=this.data_json.edges.filter((t=>t.from!=e.lastChild.innerHTML&&t.to!=e.lastChild.innerHTML)),this.edges=this.edges.filter((t=>{if(t.from!=e&&t.to!=e)return!0;this.container.removeChild(t.edge);for(let i in this.vertices_upload)this.vertices_upload[i].edges=this.vertices_upload[i].edges.filter((t=>t.to!=e.lastChild.innerHTML));return!1}));else{this.edges=this.edges.filter((t=>t.edge!=e));for(let t in this.vertices_upload)this.vertices_upload[t].edges=this.vertices_upload[t].edges.filter((t=>t.dom!=e));this.data_json.edges=this.data_json.edges.filter((t=>t.dom!=e))}}},initDrag(e){var t=this,i=function(i){var r=i.clientX-e.firstChild.cx.baseVal.value,s=i.clientY-e.firstChild.cy.baseVal.value,a=i.clientX-e.lastChild.x.baseVal[0].value,l=i.clientY-e.lastChild.y.baseVal[0].value;function n(i){e.firstChild.setAttribute("cx",i.clientX-r),e.firstChild.setAttribute("cy",i.clientY-s),e.lastChild.setAttribute("x",i.clientX-a),e.lastChild.setAttribute("y",i.clientY-l);var n=t.vertices.filter((t=>t.vertex==e))[0].type;if("Start"==n){e.removeChild(e.childNodes[1]);let a=t.createArrow(i.clientX-r-130,i.clientY-s,i.clientX-r-30,i.clientY-s,1)[0];e.insertBefore(a,e.lastChild)}else if("End"==n){e.removeChild(e.childNodes[1]);let a=t.createArrow(i.clientX-r+30,i.clientY-s,i.clientX-r+130,i.clientY-s,1)[0];e.insertBefore(a,e.lastChild)}var o=[];t.edges=t.edges.filter((i=>{if(i.from!=e&&i.to!=e)return!0;t.container.removeChild(i.edge);for(let e in t.vertices_upload)t.vertices_upload[e].id!=i.from.lastChild.innerHTML&&t.vertices_upload[e].id!=i.to.lastChild.innerHTML||(t.vertices_upload[e].edges=t.vertices_upload[e].edges.filter((e=>e.dom!=i.edge)));return o.push(i.edge),!1}));for(let e in o){let i=t.data_json.edges.filter((t=>t.dom==o[e]))[0];t.from=t.vertices.filter((e=>e.vertex.lastChild.innerHTML==i.from))[0].vertex,t.to=t.vertices.filter((e=>e.vertex.lastChild.innerHTML==i.to))[0].vertex,t.createEdge(JSON.parse(i.form)),t.data_json.edges.splice(t.data_json.edges.indexOf(i),1)}}function o(){let i=t.data_json.vertices.filter((t=>t.id==e.lastChild.innerHTML))[0];i.x=e.firstChild.cx.baseVal.value,i.y=e.firstChild.cy.baseVal.value,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)}document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)};return e.addEventListener("mousedown",i),i},createEdge(e){var t,i=this.from.firstChild.cx.baseVal.value,r=this.from.firstChild.cy.baseVal.value,s=this.to.firstChild.cx.baseVal.value,a=this.to.firstChild.cy.baseVal.value,l=this.edges.filter((e=>{let t=e.from.firstChild.cx.baseVal.value,l=e.from.firstChild.cy.baseVal.value,n=e.to.firstChild.cx.baseVal.value,o=e.to.firstChild.cy.baseVal.value;return i==t&&r==l&&s==n&&a==o||s==t&&a==l&&i==n&&r==o})).length,n="";if(i==s&&r==a)t=this.createArrow_circle(i,r,l+1);else{var o=30/Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),d=i+o*(s-i),c=r+o*(a-r),h=s-o*(s-i),u=a-o*(a-r);t=this.createArrow(d,c,h,u,l+1);var f=Math.atan((a-r)/(s-i));n="rotate("+180*f/Math.PI+" "+t[1]+" "+t[2]+")"}var p=t[0],m=t[1],v=t[2],g=this.createTag("text",{x:m-20,y:v-10,fill:"red","font-size":"20","text-anchor":"middle",transform:n}),b=this.createTag("text",{x:m+20,y:v-10,fill:"green","font-size":"20","text-anchor":"middle",transform:n}),_=this.createTag("text",{x:m,y:v+25,fill:"white","font-size":"20","text-anchor":"middle",transform:n});g.innerHTML=e.input,b.innerHTML=e.output;var k="",x="";for(let w in e.bracket_list){if("Open"==e.bracket_list[w].bracket_type)switch(e.bracket_list[w].bracket_number){case"1":k+="(",x+="(";break;case"2":k+="[",x+="[";break;case"3":k+="{",x+="{";break;case"4":k+="<",x+="<";break;default:k+='(<tspan style="baseline-shift:super;font-size:10;fill:white">'+e.bracket_list[w].bracket_number+"</tspan>",x+="("+e.bracket_list[w].bracket_number;break}else if("Close"==e.bracket_list[w].bracket_type)switch(e.bracket_list[w].bracket_number){case"1":k+=")",x+=")";break;case"2":k+="]",x+="]";break;case"3":k+="}",x+="}";break;case"4":k+=">",x+=">";break;default:k+=')<tspan style="baseline-shift:super;font-size:10;fill:white">'+e.bracket_list[w].bracket_number+"</tspan>",x+=")"+e.bracket_list[w].bracket_number;break}k+='<tspan style="baseline-shift:sub;font-size:10;fill:white">'+e.bracket_list[w].bracket_label+"</tspan>",x+=" "+e.bracket_list[w].bracket_label}_.innerHTML=k,p.appendChild(g),p.appendChild(b),p.appendChild(_),this.container.appendChild(p),this.edges.push({edge:p,from:this.from,to:this.to});var C=this.vertices_upload.filter((e=>this.from.lastChild.innerHTML==e.id));C[0]["edges"].push({to:this.to.lastChild.innerHTML,input:e.input,output:e.output,bracket:x,dom:p}),this.data_json.edges.push({from:this.from.lastChild.innerHTML,to:this.to.lastChild.innerHTML,form:JSON.stringify(e),dom:p}),this.from=null,this.to=null},createArrow(e,t,i,r,s){var a=(e+i)/2,l=(t+r)/2,n=Math.sqrt(Math.pow(i-e,2)+Math.pow(r-t,2)),o=t==r?Number.MAX_VALUE:(e-i)/(r-t),d=n/(2*Math.sqrt(Math.pow(o,2)+1)),c=o*d,h=a-Math.pow(-1,s)*parseInt(s/2)*d,u=l-Math.pow(-1,s)*parseInt(s/2)*c,f=this.createTag("g",{onclick:"clickHandle_window(this)"}),p=this.createTag("defs"),m=this.createTag("marker",{id:"triangle",markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"4",refX:"4",refY:"2",orient:"auto"}),v=this.createTag("path",{d:"M 0 0 L 5 2 L 0 4 z",fill:"white"}),g=this.createTag("path",{d:"M "+e+" "+t+" Q "+h+" "+u+" "+i+" "+r,fill:"none",stroke:"white","stroke-width":"2",style:"marker-end: url(#triangle);"});return m.appendChild(v),p.appendChild(m),f.appendChild(p),f.appendChild(g),[f,(a+h)/2,(l+u)/2]},createArrow_circle(e,t,i){var r=e-30,s=t,a=e+30,l=t,n=30+20*Math.ceil(i/2),o=this.createTag("g",{onclick:"clickHandle_window(this)"}),d=this.createTag("defs"),c=this.createTag("marker",{id:"triangle",markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"4",refX:"4",refY:"2",orient:"auto"}),h=this.createTag("path",{d:"M 0 0 L 5 2 L 0 4 z",fill:"white"}),u=this.createTag("path",{d:"M "+r+" "+s+" A "+n+" "+n+" 0 1 "+i%2+" "+a+" "+l,fill:"none",stroke:"white","stroke-width":"2",style:"marker-end: url(#triangle);"});c.appendChild(h),d.appendChild(c),o.appendChild(d),o.appendChild(u);var f=i%2==1?t-n-Math.sqrt(n*n-900):t+n+Math.sqrt(n*n-900);return[o,e,f]},setVertexType(e){var t=this.vertices.filter((e=>this.selectedVertex==e.vertex)),i=this.vertices_upload.filter((e=>this.selectedVertex.lastChild.innerHTML==e.id)),r=this.data_json.vertices.filter((e=>this.selectedVertex.lastChild.innerHTML==e.id)),s=t[0].type;if(s!=e){if("Start"==e){let e=this.vertices.filter((e=>"Start"==e.type));e.length>0&&(e[0].vertex.removeChild(e[0].vertex.childNodes[1]),e[0].vertex.firstChild.setAttribute("fill","aqua"),e[0].type="Normal"),"End"==s&&this.selectedVertex.removeChild(this.selectedVertex.childNodes[1]),this.selectedVertex.firstChild.setAttribute("fill","green");let t=this.selectedVertex.firstChild.cx.baseVal.value,i=this.selectedVertex.firstChild.cy.baseVal.value,r=this.createArrow(t-130,i,t-30,i,1)[0];this.selectedVertex.insertBefore(r,this.selectedVertex.lastChild)}else if("Normal"==e)this.selectedVertex.removeChild(this.selectedVertex.childNodes[1]),this.selectedVertex.firstChild.setAttribute("fill","aqua");else if("End"==e){"Start"==s&&this.selectedVertex.removeChild(this.selectedVertex.childNodes[1]),this.selectedVertex.firstChild.setAttribute("fill","red");let e=this.selectedVertex.firstChild.cx.baseVal.value,t=this.selectedVertex.firstChild.cy.baseVal.value,i=this.createArrow(e+30,t,e+130,t,1)[0];this.selectedVertex.insertBefore(i,this.selectedVertex.lastChild)}t[0].type=e,i[0].type=e,r[0].type=e}this.selectedVertex=null},cancelHandle(){this.from=null,this.to=null},confirmHandle(e){this.createEdge(e)},cancelHandle_vertex(){this.selectedVertex=null},confirmHandle_vertex(e){this.setVertexType(e)},uploadData(){F.Z.post(this.path,this.vertices_upload).then((e=>{let t=e.data;if(t.length<450)return alert(t),void this.$emit("statusChanged",0);const i=new Blob([t]);let r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download="result.py",r.click(),this.$emit("statusChanged",10)})).catch((e=>{console.log(e)}))},downloadJSON(){let e=JSON.stringify(this.data_json);const t=new Blob([e]);let i=document.createElement("a");i.href=window.URL.createObjectURL(t),i.download="l_graph.json",i.click(),this.$emit("statusChanged",11)},clear(){var e=this.container.firstChild;while(e)this.container.removeChild(e),e=this.container.firstChild;this.vertexId=0,this.from=null,this.to=null,this.vertices=[],this.edges=[],this.selectedVertex=null,this.vertices_upload=[],this.data_json={vertices:[],edges:[]},this.$emit("statusChanged",0)},uploadJSON(){this.fileReadDialogVisable=!0,this.$emit("statusChanged",0)},createFromJSON(e){var t=JSON.parse(e);this.clear();for(let i in t.vertices)this.createVertexWithCoordinate(t.vertices[i].x,t.vertices[i].y,t.vertices[i].id),this.selectedVertex=this.vertices.slice(-1)[0].vertex,this.setVertexType(t.vertices[i].type);for(let i in t.edges)this.from=this.vertices.filter((e=>e.vertex.lastChild.innerHTML==t.edges[i].from))[0].vertex,this.to=this.vertices.filter((e=>e.vertex.lastChild.innerHTML==t.edges[i].to))[0].vertex,this.createEdge(JSON.parse(t.edges[i].form))}},mounted(){this.initDom(),window["clickHandle_window"]=e=>{this.clickHandle(e)}},created(){},watch:{status:function(e){this.from=null;for(let i in this.vertices)this.vertices[i].vertex.setAttribute("cursor","");if(2==e||3==e)for(let i in this.vertices)this.vertices[i].vertex.setAttribute("cursor","pointer");if(4==e){for(let e in this.vertices)this.vertices[e].vertex.setAttribute("cursor","pointer");for(let e in this.edges)this.edges[e].edge.setAttribute("cursor","pointer")}if(5==e)for(let i in this.vertices){var t=this.vertices[i].vertex;t.setAttribute("cursor","pointer"),this.drag_functions.push(this.initDrag(t))}else if(this.drag_functions.length>0){for(let e in this.vertices)this.vertices[e].vertex.removeEventListener("mousedown",this.drag_functions[e]);this.drag_functions=[]}6==e&&this.clear(),7==e&&this.downloadJSON(),8==e&&this.uploadJSON(),9==e&&this.uploadData()}}};const I=(0,p.Z)(B,[["render",U],["__scopeId","data-v-e84a4382"]]);var Y=I;function J(e,t,i,r,s,n){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h2",null,(0,l.zw)(s.message),1)])}var X={name:"Tips",props:{status:{type:Number,default:0}},data(){return{index:0,messages:['Use "ADD VERTEX" to add a vertex.',"Welcome to the L-Graph generator!"],message:"Welcome to the L-Graph generator!",timer:null}},created(){},mounted(){this.initTimer()},destroyed(){this.destroyTimer()},watch:{status:function(e){switch(e){case 0:this.messages=["Welcome to the L-Graph generator!",'Use "ADD VERTEX" to add a vertex.'];break;case 1:this.messages=["Click to create a vertex.",'After that you can use "EDIT OBJECT" to change the type of the vertex.','You can also use "ADD EDGE" to connect two vertices.'];break;case 2:this.messages=["Select two vertices to create an edge.","Select the start point first, and then the end point.","Bracket number: 1-'()', 2-'[]', 3-'{}', 4-'<>'.",'You can use "EDIT OBJECT" to edit the created edges.'];break;case 3:this.messages=["Select a vertex to edit."];break;case 4:this.messages=["Select a vertex or an edge to remove."];break;case 5:this.messages=["Drag a vertex to move it."];break;case 9:this.messages=["The code is being generated, please wait...","The code is being generated, please wait","The code is being generated, please wait.","The code is being generated, please wait.."];break;case 10:this.messages=["The code has been successfully downloaded!"];break;case 11:this.messages=["The file has been successfully downloaded!"];break;default:break}this.index=0,this.message=this.messages[0]}},methods:{initTimer(){this.timer=setInterval((()=>{this.message=this.messages[this.index],this.index+=1,this.index>=this.messages.length&&(this.index=0)}),3e3)},destroyTimer(){clearInterval(this.timer),this.timer=null}}};const z=(0,p.Z)(X,[["render",J],["__scopeId","data-v-9e6f9510"]]);var q=z;const R=["onClick"];function $(e,t,i,r,s,n){return(0,a.wg)(),(0,a.iD)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.titles,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},[(0,a._)("button",{onClick:e=>n.clickHandle(t+1),class:(0,l.C_)(s.status==t+1?"selected":"")},(0,l.zw)(e),11,R)])))),128))])}var Z={name:"Buttons",data(){return{status:0,titles:["Add vertex","Add edge","Edit vertex","Remove object","Drag vertex","Clear","Save as JSON","Upload JSON","Download code"]}},methods:{clickHandle(e){this.status!=e?this.status=e:this.status=0,this.$emit("statusChanged",this.status),6!=this.status&&7!=this.status&&8!=this.status&&9!=this.status||(this.status=0)}}};const G=(0,p.Z)(Z,[["render",$],["__scopeId","data-v-70095181"]]);var K=G;const P=e=>((0,a.dD)("data-v-2444f0c6"),e=e(),(0,a.Cn)(),e),Q=P((()=>(0,a._)("div",{id:"header"},[(0,a._)("h1",null,"L-Graph Generator"),(0,a._)("h3",null,"Create your own L-Graph here!")],-1))),ee=P((()=>(0,a._)("hr",{color:"aqua"},null,-1)));function te(e,t,i,r,s,l){const n=K,o=q,d=Y;return(0,a.wg)(),(0,a.iD)(a.HY,null,[Q,ee,(0,a.Wm)(n,{onStatusChanged:l.setStatus},null,8,["onStatusChanged"]),(0,a.Wm)(o,{status:s.status},null,8,["status"]),(0,a.Wm)(d,{status:s.status,onStatusChanged:l.setStatus},null,8,["status","onStatusChanged"])],64)}var ie={name:"App",components:{Buttons:K,Tips:q,Screen:Y},data(){return{status:0}},methods:{setStatus(e){this.status=e}}};const re=(0,p.Z)(ie,[["render",te],["__scopeId","data-v-2444f0c6"]]);var se=re,ae=i(5431);(0,ae.z)("/L-transducer/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var le=i(1565);const ne=(0,r.ri)(se);ne.mount("#app"),ne.config.globalProperties.$message=le.z8}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,i),a.exports}i.m=e,function(){var e=[];i.O=function(t,r,s,a){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],a=e[c][2];for(var n=!0,o=0;o<r.length;o++)(!1&a||l>=a)&&Object.keys(i.O).every((function(e){return i.O[e](r[o])}))?r.splice(o--,1):(n=!1,a<l&&(l=a));if(n){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,s,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,a,l=r[0],n=r[1],o=r[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(s in n)i.o(n,s)&&(i.m[s]=n[s]);if(o)var c=o(i)}for(t&&t(r);d<l.length;d++)a=l[d],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(c)},r=self["webpackChunktest"]=self["webpackChunktest"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(6880)}));r=i.O(r)})();
//# sourceMappingURL=app.2889a59c.js.map